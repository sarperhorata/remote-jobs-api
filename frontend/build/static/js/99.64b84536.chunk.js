"use strict";(self.webpackChunkremote_jobs_frontend=self.webpackChunkremote_jobs_frontend||[]).push([[99],{99:(e,o,t)=>{t.r(o),t.d(o,{default:()=>l});var r=t(5043),s=t(3216),n=t(5475),a=t(9066),c=t(579);const l=()=>{const[e,o]=(0,r.useState)(!0),[t,l]=(0,r.useState)(null),i=(0,s.Zp)(),[d]=(0,n.ok)(),{login:h}=(0,a.A)();return(0,r.useEffect)(()=>{(async()=>{try{const e=d.get("code"),o=d.get("error");if(o)throw new Error("Google OAuth error: ".concat(o));if(!e)throw new Error("No authorization code received from Google");console.log("\ud83d\udd11 Processing Google OAuth callback...");const t=await fetch("http://localhost:8000/api/google/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Google authentication failed")}const r=await t.json();localStorage.setItem("token",r.access_token),localStorage.setItem("user",JSON.stringify(r.user)),console.log("\u2705 Google login successful!",r.user),i("/",{replace:!0})}catch(e){console.error("\u274c Google callback error:",e),l(e instanceof Error?e.message:"Unknown error occurred")}finally{o(!1)}})()},[d,i,h]),e?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-600",children:"Completing Google sign-in..."})]})}):t?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,c.jsxs)("div",{className:"text-center max-w-md",children:[(0,c.jsx)("div",{className:"text-red-500 mb-4",children:(0,c.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Failed"}),(0,c.jsx)("p",{className:"text-gray-600 mb-6",children:t}),(0,c.jsx)("button",{onClick:()=>i("/",{replace:!0}),className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Back to Home"})]})}):null}}}]);
//# sourceMappingURL=99.64b84536.chunk.js.map