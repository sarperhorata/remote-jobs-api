{"version":3,"file":"static/js/99.7b9ef63a.chunk.js","mappings":"2MAIA,MAgHA,EAhHiCA,KAC/B,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,IAAgBC,EAAAA,EAAAA,OAChBC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAwB,MA4DlD,OA1DAG,EAAAA,EAAAA,WAAU,KACqBC,WAC3B,IACE,MAAMC,EAAOT,EAAaU,IAAI,QAG9B,GAFcV,EAAaU,IAAI,SAG7B,MAAM,IAAIC,MAAM,6CAGlB,IAAKF,EACH,MAAM,IAAIE,MAAM,8CAGlBC,QAAQC,IAAI,8CACZ,MAAMC,QAAqBC,EAAAA,EAAAA,aAErBC,QAAiBC,MAAM,GAADC,OAAIJ,EAAY,yBAAyB,CACnEK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEd,WAGzB,IAAKO,EAASQ,GAAI,CAChB,MAAMC,QAAkBT,EAASU,OACjC,MAAM,IAAIf,MAAMc,EAAUE,QAAU,+BACtC,CAEA,MAAMC,QAAaZ,EAASU,OAC5Bd,QAAQC,IAAI,2CAAuCe,GAG/CA,EAAKC,eACPC,aAAaC,QAAQ,aAAcH,EAAKC,cACxCC,aAAaC,QAAQ,aAAcH,EAAKI,YAAc,UACtDF,aAAaC,QAAQ,YAAaH,EAAKC,eAGrCD,EAAKK,MACPH,aAAaC,QAAQ,YAAaT,KAAKC,UAAUK,EAAKK,OAIxDnC,EAAS,IAAK,CAAEoC,SAAS,IACzBC,OAAOC,SAASC,QAElB,CAAE,MAAOhC,GACPO,QAAQP,MAAM,gCAA4BA,GAC1CC,EAASD,EAAMiC,SAAW,yBAC1BnC,GAAW,EACb,GAGFoC,IACC,CAACvC,EAAcF,IAEdI,GAEAsC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kIAAiIC,UAC9IC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oIAAmIC,UAChJF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,WAAUC,SAAC,oBAE7BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2DAA0DC,SAAC,kCAGzEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mCAAkCC,SAAC,oDAGhDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2BAA0BC,UACvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0EAOrBpC,GAEAmC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kIAAiIC,UAC9IC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,EAChDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kFAAiFC,UAC9FF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,wBAAuBC,SAAC,cAE1CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2DAA0DC,SAAC,2BAGzEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wCAAuCC,SACjDrC,KAEHmC,EAAAA,EAAAA,KAAA,UACEI,QAASA,IAAM9C,EAAS,UACxB2C,UAAU,yJAAwJC,SACnK,mBAQF,K","sources":["pages/GoogleCallback.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { getApiUrl } from '../utils/apiConfig';\n\nconst GoogleCallback: React.FC = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleGoogleCallback = async () => {\n      try {\n        const code = searchParams.get('code');\n        const error = searchParams.get('error');\n\n        if (error) {\n          throw new Error('Google authentication cancelled or failed');\n        }\n\n        if (!code) {\n          throw new Error('No authorization code received from Google');\n        }\n\n        console.log('üîë Processing Google callback...');\n        const API_BASE_URL = await getApiUrl();\n\n        const response = await fetch(`${API_BASE_URL}/auth/google/callback`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ code }),\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.detail || 'Google authentication failed');\n        }\n\n        const data = await response.json();\n        console.log('‚úÖ Google authentication successful:', data);\n\n        // Store authentication data\n        if (data.access_token) {\n          localStorage.setItem('auth_token', data.access_token);\n          localStorage.setItem('token_type', data.token_type || 'bearer');\n          localStorage.setItem('userToken', data.access_token);\n        }\n\n        if (data.user) {\n          localStorage.setItem('user_data', JSON.stringify(data.user));\n        }\n\n        // Redirect to home page\n        navigate('/', { replace: true });\n        window.location.reload();\n\n      } catch (error: any) {\n        console.error('‚ùå Google callback error:', error);\n        setError(error.message || 'Authentication failed');\n        setLoading(false);\n      }\n    };\n\n    handleGoogleCallback();\n  }, [searchParams, navigate]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse\">\n            <span className=\"text-2xl\">üêù</span>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n            Completing Google Sign In...\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Please wait while we authenticate your account\n          </p>\n          <div className=\"mt-4 flex justify-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center\">\n        <div className=\"text-center max-w-md mx-auto px-4\">\n          <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-2xl text-red-500\">‚ùå</span>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n            Authentication Failed\n          </h2>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n            {error}\n          </p>\n          <button\n            onClick={() => navigate('/login')}\n            className=\"bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-yellow-600 transition-colors font-medium\"\n          >\n            Try Again\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default GoogleCallback; "],"names":["GoogleCallback","navigate","useNavigate","searchParams","useSearchParams","loading","setLoading","useState","error","setError","useEffect","async","code","get","Error","console","log","API_BASE_URL","getApiUrl","response","fetch","concat","method","headers","body","JSON","stringify","ok","errorData","json","detail","data","access_token","localStorage","setItem","token_type","user","replace","window","location","reload","message","handleGoogleCallback","_jsx","className","children","_jsxs","onClick"],"sourceRoot":""}