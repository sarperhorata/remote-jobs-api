{"version":3,"file":"static/js/99.64b84536.chunk.js","mappings":"2MAIA,MA+FA,EA/FiCA,KAC/B,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAwB,MAC5CG,GAAWC,EAAAA,EAAAA,OACVC,IAAgBC,EAAAA,EAAAA,OACjB,MAAEC,IAAUC,EAAAA,EAAAA,KAsDlB,OApDAC,EAAAA,EAAAA,WAAU,KACqBC,WAC3B,IACE,MAAMC,EAAON,EAAaO,IAAI,QACxBX,EAAQI,EAAaO,IAAI,SAE/B,GAAIX,EACF,MAAM,IAAIY,MAAM,uBAADC,OAAwBb,IAGzC,IAAKU,EACH,MAAM,IAAIE,MAAM,8CAGlBE,QAAQC,IAAI,oDAGZ,MAAMC,QAAiBC,MAAM,4CAA6C,CACxEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEZ,WAGzB,IAAKM,EAASO,GAAI,CAChB,MAAMC,QAAkBR,EAASS,OACjC,MAAM,IAAIb,MAAMY,EAAUE,QAAU,+BACtC,CAEA,MAAMC,QAAaX,EAASS,OAG5BG,aAAaC,QAAQ,QAASF,EAAKG,cACnCF,aAAaC,QAAQ,OAAQR,KAAKC,UAAUK,EAAKI,OAEjDjB,QAAQC,IAAI,kCAA8BY,EAAKI,MAG/C7B,EAAS,IAAK,CAAE8B,SAAS,GAE3B,CAAE,MAAOC,GACPnB,QAAQd,MAAM,gCAA4BiC,GAC1ChC,EAASgC,aAAerB,MAAQqB,EAAIC,QAAU,yBAChD,CAAC,QACCpC,GAAW,EACb,GAGFqC,IACC,CAAC/B,EAAcF,EAAUI,IAExBT,GAEAuC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2DAA0DC,UACvEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mFACfD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAC,sCAMjCtC,GAEAoC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2DAA0DC,UACvEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EACnCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAChCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAoBG,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YAAWJ,UACtFF,EAAAA,EAAAA,KAAA,QAAMO,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,iJAGzEV,EAAAA,EAAAA,KAAA,MAAIC,UAAU,2CAA0CC,SAAC,2BACzDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAoBC,SAAEtC,KACnCoC,EAAAA,EAAAA,KAAA,UACEW,QAASA,IAAM7C,EAAS,IAAK,CAAE8B,SAAS,IACxCK,UAAU,sFAAqFC,SAChG,sBAQF,K","sources":["pages/GoogleCallback.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst GoogleCallback: React.FC = () => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { login } = useAuth();\n\n  useEffect(() => {\n    const handleGoogleCallback = async () => {\n      try {\n        const code = searchParams.get('code');\n        const error = searchParams.get('error');\n\n        if (error) {\n          throw new Error(`Google OAuth error: ${error}`);\n        }\n\n        if (!code) {\n          throw new Error('No authorization code received from Google');\n        }\n\n        console.log('üîë Processing Google OAuth callback...');\n\n        // Send code to backend\n        const response = await fetch('http://localhost:8000/api/google/callback', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ code }),\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.detail || 'Google authentication failed');\n        }\n\n        const data = await response.json();\n        \n        // Store token and user data\n        localStorage.setItem('token', data.access_token);\n        localStorage.setItem('user', JSON.stringify(data.user));\n\n        console.log('‚úÖ Google login successful!', data.user);\n\n        // Navigate to home or dashboard\n        navigate('/', { replace: true });\n\n      } catch (err) {\n        console.error('‚ùå Google callback error:', err);\n        setError(err instanceof Error ? err.message : 'Unknown error occurred');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    handleGoogleCallback();\n  }, [searchParams, navigate, login]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Completing Google sign-in...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"text-red-500 mb-4\">\n            <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Authentication Failed</h2>\n          <p className=\"text-gray-600 mb-6\">{error}</p>\n          <button\n            onClick={() => navigate('/', { replace: true })}\n            className=\"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors\"\n          >\n            Back to Home\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport default GoogleCallback; "],"names":["GoogleCallback","loading","setLoading","useState","error","setError","navigate","useNavigate","searchParams","useSearchParams","login","useAuth","useEffect","async","code","get","Error","concat","console","log","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","detail","data","localStorage","setItem","access_token","user","replace","err","message","handleGoogleCallback","_jsx","className","children","_jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick"],"sourceRoot":""}