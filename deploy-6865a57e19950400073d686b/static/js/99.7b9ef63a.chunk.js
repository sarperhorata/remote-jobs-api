"use strict";(self.webpackChunkremote_jobs_frontend=self.webpackChunkremote_jobs_frontend||[]).push([[99],{99:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var a=o(5043),r=o(3216),n=o(5475),s=o(2362),l=o(579);const c=()=>{const e=(0,r.Zp)(),[t]=(0,n.ok)(),[o,c]=(0,a.useState)(!0),[i,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{const o=t.get("code");if(t.get("error"))throw new Error("Google authentication cancelled or failed");if(!o)throw new Error("No authorization code received from Google");console.log("\ud83d\udd11 Processing Google callback...");const a=await(0,s.getApiUrl)(),r=await fetch("".concat(a,"/auth/google/callback"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o})});if(!r.ok){const e=await r.json();throw new Error(e.detail||"Google authentication failed")}const n=await r.json();console.log("\u2705 Google authentication successful:",n),n.access_token&&(localStorage.setItem("auth_token",n.access_token),localStorage.setItem("token_type",n.token_type||"bearer"),localStorage.setItem("userToken",n.access_token)),n.user&&localStorage.setItem("user_data",JSON.stringify(n.user)),e("/",{replace:!0}),window.location.reload()}catch(i){console.error("\u274c Google callback error:",i),d(i.message||"Authentication failed"),c(!1)}})()},[t,e]),o?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,l.jsx)("span",{className:"text-2xl",children:"\ud83d\udc1d"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Completing Google Sign In..."}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we authenticate your account"}),(0,l.jsx)("div",{className:"mt-4 flex justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})})]})}):i?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)("span",{className:"text-2xl text-red-500",children:"\u274c"})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Authentication Failed"}),(0,l.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:i}),(0,l.jsx)("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-orange-500 to-yellow-500 text-white px-6 py-3 rounded-lg hover:from-orange-600 hover:to-yellow-600 transition-colors font-medium",children:"Try Again"})]})}):null}}}]);
//# sourceMappingURL=99.7b9ef63a.chunk.js.map