"use strict";(self.webpackChunkremote_jobs_frontend=self.webpackChunkremote_jobs_frontend||[]).push([[772],{4772:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(2555),n=a(5043),r=a(4558),l=a(9722),o=a(579);const i=()=>{const[e,t]=(0,n.useState)([{name:"Buzz2remote Companies",status:"operational",lastRun:(new Date).toISOString(),progress:0},{name:"LinkedIn Jobs",status:"operational",lastRun:(new Date).toISOString()},{name:"Indeed Jobs",status:"operational",lastRun:(new Date).toISOString()},{name:"Glassdoor Jobs",status:"operational",lastRun:(new Date).toISOString()}]),[a,i]=(0,n.useState)({}),[c,d]=(0,n.useState)(null),m=e=>{switch(e){case"operational":return"text-green-600 bg-green-100";case"degraded":return"text-yellow-600 bg-yellow-100";case"down":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"External API Services"}),(0,o.jsx)("p",{className:"mt-4 text-lg text-gray-500",children:"Manage and monitor external API services"})]}),c&&(0,o.jsx)("div",{className:"mt-4 p-4 bg-red-100 text-red-700 rounded-md",children:c}),(0,o.jsx)("div",{className:"mt-8 space-y-6",children:e.map(e=>(0,o.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,o.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Last run: ",new Date(e.lastRun).toLocaleString()]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(m(e.status)),children:e.status}),(0,o.jsx)("button",{onClick:()=>(async e=>{try{if(d(null),i(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!0})),"Buzz2remote Companies"===e){let a=0;const n=setInterval(()=>{a+=1,t(t=>t.map(t=>t.name===e?(0,s.A)((0,s.A)({},t),{},{progress:Math.min(a,100)}):t))},100),o=await l.A.post("".concat(r.H,"/api/admin/scan-companies"));clearInterval(n),t(t=>t.map(t=>t.name===e?(0,s.A)((0,s.A)({},t),{},{progress:100,lastRun:(new Date).toISOString()}):t)),await l.A.post("".concat(r.H,"/api/admin/notify-telegram"),{message:"Company scanning completed successfully! Total companies scanned: ".concat(o.data.totalCompanies)})}else await l.A.post("".concat(r.H,"/api/admin/run-service"),{service:e}),t(t=>t.map(t=>t.name===e?(0,s.A)((0,s.A)({},t),{},{lastRun:(new Date).toISOString()}):t))}catch(a){d(a instanceof Error?a.message:"An error occurred")}finally{i(t=>(0,s.A)((0,s.A)({},t),{},{[e]:!1}))}})(e.name),disabled:a[e.name],className:"px-4 py-2 rounded-md text-sm font-medium ".concat(a[e.name]?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:a[e.name]?"Running...":"Run"})]})]}),"Buzz2remote Companies"===e.name&&void 0!==e.progress&&(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,o.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-500 text-right",children:[e.progress,"% Complete"]})]})]})},e.name))})]})})}}}]);
//# sourceMappingURL=772.57688509.chunk.js.map